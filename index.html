<!DOCTYPE html>
<html>
<head>
<title>Ecofy Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;margin:0;padding:0;background:#f5f5f5}
header{background:#111;color:#fff;padding:15px;text-align:center}
.product{background:#fff;margin:15px;padding:15px;border-radius:10px}
.product img{width:100%;border-radius:10px}
button{padding:8px 12px;margin:5px;border:none;border-radius:5px;cursor:pointer}
.add{background:#28a745;color:#fff}
.cartBtn{position:fixed;top:15px;right:15px;background:red;color:#fff;border-radius:50%;width:40px;height:40px}
#cart{position:fixed;right:-100%;top:0;width:100%;max-width:400px;height:100%;background:#fff;padding:15px;overflow:auto;transition:0.4s}
.showCart{right:0 !important}
.qtyBtn{background:#ddd}
.whatsapp{background:#25D366;color:#fff;width:100%}
input,textarea{width:100%;padding:8px;margin:6px 0}
</style>
</head>
<body>

<header>
<h2>Ecofy</h2>
<button class="cartBtn" onclick="openCart()">üõí <span id="count">0</span></button>
</header>

<div class="product">
<img src="https://via.placeholder.com/300" />
<h3>Heart Gift Box</h3>
<p><strike>‚Çπ1999</strike> <b>‚Çπ999</b></p>
<button class="add" onclick="addToCart('Heart Gift Box',999)">Add to Cart</button>
</div>

<div class="product">
<img src="https://via.placeholder.com/300" />
<h3>Teddy Combo</h3>
<p><strike>‚Çπ1499</strike> <b>‚Çπ799</b></p>
<button class="add" onclick="addToCart('Teddy Combo',799)">Add to Cart</button>
</div>

<div id="cart">
<h3>Your Cart</h3>
<div id="cartItems"></div>

<h4>Customer Details</h4>
<input type="text" id="name" placeholder="Full Name" required>
<input type="tel" id="phone" placeholder="Phone Number" required>
<textarea id="address" placeholder="Full Address" required></textarea>

<button class="whatsapp" onclick="checkout()">Checkout on WhatsApp</button>
</div>

<script>
let cart=[];

function openCart(){
document.getElementById("cart").classList.toggle("showCart");
}

function addToCart(name,price){
let item=cart.find(p=>p.name===name);
if(item){
item.qty++;
}else{
cart.push({name,price,qty:1});
}
updateCart();
}

function changeQty(name,type){
let item=cart.find(p=>p.name===name);
if(type==="plus"){item.qty++;}
if(type==="minus"){item.qty--; if(item.qty<=0){cart=cart.filter(p=>p.name!==name);}}
updateCart();
}

function updateCart(){
let cartItems=document.getElementById("cartItems");
cartItems.innerHTML="";
let total=0;

cart.forEach(item=>{
total+=item.price*item.qty;
cartItems.innerHTML+=`
<div>
<b>${item.name}</b><br>
‚Çπ${item.price} x ${item.qty} = ‚Çπ${item.price*item.qty}<br>
<button class="qtyBtn" onclick="changeQty('${item.name}','minus')">‚ûñ</button>
<button class="qtyBtn" onclick="changeQty('${item.name}','plus')">‚ûï</button>
<hr>
</div>`;
});

cartItems.innerHTML+=`<h4>Total: ‚Çπ${total}</h4>`;
document.getElementById("count").innerText=cart.length;
}

function checkout(){
let name=document.getElementById("name").value.trim();
let phone=document.getElementById("phone").value.trim();
let address=document.getElementById("address").value.trim();

if(!name || !phone || !address){
alert("Please fill all customer details before checkout.");
return;
}

if(cart.length===0){
alert("Cart is empty.");
return;
}

let total=0;
let message="üõç *New Order - Ecofy*%0A%0A";

cart.forEach(item=>{
total+=item.price*item.qty;
message+=`${item.name} x ${item.qty} = ‚Çπ${item.price*item.qty}%0A`;
});

message+=`%0Aüí∞ Total: ‚Çπ${total}%0A%0A`;
message+=`üë§ Name: ${name}%0Aüìû Phone: ${phone}%0Aüè† Address: ${address}`;

window.open(`https://wa.me/919075016413?text=${message}`);
}
</script>

</body>
</html>
